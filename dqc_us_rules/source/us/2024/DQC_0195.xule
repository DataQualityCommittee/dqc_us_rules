/**
DQC Rules
 (c) Copyright 2017 - 2024, XBRL US Inc. All rights reserved.
 See https://xbrl.us/dqc-license for license information.
 See https://xbrl.us/dqc-patent for patent infringement notice.
Taxonomy: US GAAP ALL

**/

RULE-NAME-PREFIX DQC


/** RULES TO CHECK THAT NEW TAX DISCLOSURES ARE FOLLOWED**/

/** Check that monetary and percentage tax reconcilition is provided **/

constant $EQUIVALENT_TAX_RATES = list(list(IncomeTaxReconciliationIncomeTaxExpenseBenefitAtFederalStatutoryIncomeTaxRate, EffectiveIncomeTaxRateReconciliationAtFederalStatutoryIncomeTaxRate),
                                    list(IncomeTaxReconciliationStateAndLocalIncomeTaxes, EffectiveIncomeTaxRateReconciliationStateAndLocalIncomeTaxes),
                                    list(IncomeTaxReconciliationForeignIncomeTaxRateDifferential, EffectiveIncomeTaxRateReconciliationForeignIncomeTaxRateDifferential),
                                    list(EffectiveIncomeTaxRateReconciliationBeatAmount, EffectiveIncomeTaxRateReconciliationBeatPercent),
                                    list(EffectiveIncomeTaxRateReconciliationFdiiAmount, EffectiveIncomeTaxRateReconciliationFdiiPercent),
                                    list(EffectiveIncomeTaxRateReconciliationGiltiAmount, EffectiveIncomeTaxRateReconciliationGiltiPercent),
                                    list(EffectiveIncomeTaxRateReconciliationCrossBorderOtherAmount, EffectiveIncomeTaxRateReconciliationCrossBorderOtherPercent),
                                    list(EffectiveIncomeTaxRateReconciliationCrossBorderTaxEffectAmount, EffectiveIncomeTaxRateReconciliationCrossBorderTaxEffectPercent),
                                    list(IncomeTaxReconciliationTaxCreditsResearch, EffectiveIncomeTaxRateReconciliationTaxCreditsResearch),
                                    list(IncomeTaxReconciliationTaxCreditsForeign, EffectiveIncomeTaxRateReconciliationTaxCreditsForeign),
                                    list(IncomeTaxReconciliationTaxCreditsInvestment, EffectiveIncomeTaxRateReconciliationTaxCreditsInvestment),
                                    list(EffectiveIncomeTaxRateReconciliationTaxCreditEnergyRelatedAmount, EffectiveIncomeTaxRateReconciliationTaxCreditEnergyRelatedPercent),
                                    list(IncomeTaxReconciliationTaxCreditsOther, EffectiveIncomeTaxRateReconciliationTaxCreditsOther),
                                    list(IncomeTaxReconciliationTaxCredits, EffectiveIncomeTaxRateReconciliationTaxCredits),
                                    list(IncomeTaxReconciliationNondeductibleExpenseDepreciation, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseDepreciation),
                                    list(IncomeTaxReconciliationNondeductibleExpenseAmortization, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseAmortization),
                                    list(IncomeTaxReconciliationNondeductibleExpenseDepreciationAndAmortization, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseDepreciationAndAmortization),
                                    list(IncomeTaxReconciliationNondeductibleExpenseDepletion, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseDepletion),
                                    list(IncomeTaxReconciliationNondeductibleExpenseMealsAndEntertainment, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseMealsAndEntertainment),
                                    list(IncomeTaxReconciliationNondeductibleExpenseCharitableContributions, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseCharitableContributions),
                                    list(IncomeTaxReconciliationNondeductibleExpenseRestructuringCharges, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseRestructuringCharges),
                                    list(IncomeTaxReconciliationNondeductibleExpenseImpairmentLosses, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseImpairmentLosses),
                                    list(IncomeTaxReconciliationNondeductibleExpenseResearchAndDevelopment, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseResearchAndDevelopment),
                                    list(IncomeTaxReconciliationNondeductibleExpenseShareBasedCompensationCost, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseShareBasedCompensationCost),
                                    list(IncomeTaxReconciliationNondeductibleExpenseLeases, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseLeases),
                                    list(IncomeTaxReconciliationNondeductibleExpenseLifeInsurance, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseLifeInsurance),
                                    list(IncomeTaxReconciliationNondeductibleExpenseOther, EffectiveIncomeTaxRateReconciliationNondeductibleExpenseOther),
                                    list(IncomeTaxReconciliationNondeductibleExpense, EffectiveIncomeTaxRateReconciliationNondeductibleExpense),
                                    list(IncomeTaxReconciliationDeductionsExtraterritorialIncomeExclusion, EffectiveIncomeTaxRateReconciliationDeductionsExtraterritorialIncomeExclusion),
                                    list(IncomeTaxReconciliationDeductionsDividends, EffectiveIncomeTaxRateReconciliationDeductionsDividends),
                                    list(IncomeTaxRateReconciliationDeductionsEmployeeStockOwnershipPlanDividends, EffectiveIncomeTaxRateReconciliationDeductionsEmployeeStockOwnershipPlanDividends),
                                    list(IncomeTaxReconciliationDeductionsMedicarePrescriptionDrugBenefitSubsidy, EffectiveIncomeTaxRateReconciliationDeductionsMedicarePrescriptionDrugBenefit),
                                    list(IncomeTaxReconciliationDeductionsOther, EffectiveIncomeTaxRateReconciliationDeductionsOther),
                                    list(IncomeTaxReconciliationDeductions, EffectiveIncomeTaxRateReconciliationDeductions),
                                    list(IncomeTaxReconciliationTaxContingenciesDomestic, EffectiveIncomeTaxRateReconciliationTaxContingenciesDomestic),
                                    list(IncomeTaxReconciliationTaxContingenciesForeign, EffectiveIncomeTaxRateReconciliationTaxContingenciesForeign),
                                    list(IncomeTaxReconciliationTaxContingenciesStateAndLocal, EffectiveIncomeTaxRateReconciliationTaxContingenciesStateAndLocal),
                                    list(IncomeTaxReconciliationTaxContingenciesOther, EffectiveIncomeTaxRateReconciliationTaxContingenciesOther),
                                    list(IncomeTaxReconciliationTaxContingencies, EffectiveIncomeTaxRateReconciliationTaxContingencies),
                                    list(IncomeTaxReconciliationTaxSettlementsDomestic, EffectiveIncomeTaxRateReconciliationTaxSettlementsDomestic),
                                    list(IncomeTaxReconciliationTaxSettlementsForeign, EffectiveIncomeTaxRateReconciliationTaxSettlementsForeign),
                                    list(IncomeTaxReconciliationTaxSettlementsStateAndLocal, EffectiveIncomeTaxRateReconciliationTaxSettlementsStateAndLocal),
                                    list(IncomeTaxReconciliationTaxSettlementsOther, EffectiveIncomeTaxRateReconciliationTaxSettlementsOther),
                                    list(IncomeTaxReconciliationTaxSettlements, EffectiveIncomeTaxRateReconciliationTaxSettlements),
                                    list(IncomeTaxReconciliationTaxExemptIncome, EffectiveIncomeTaxRateReconciliationTaxExemptIncome),
                                    list(IncomeTaxReconciliationEquityInEarningsLossesOfUnconsolidatedSubsidiary, EffectiveIncomeTaxRateReconciliationEquityInEarningsLossesOfUnconsolidatedSubsidiary),
                                    list(IncomeTaxReconciliationMinorityInterestIncomeExpense, EffectiveIncomeTaxRateReconciliationMinorityInterestIncomeExpense),
                                    list(IncomeTaxReconciliationTaxHolidays, EffectiveIncomeTaxRateReconciliationTaxHolidays),
                                    list(IncomeTaxReconciliationDispositionOfBusiness, EffectiveIncomeTaxRateReconciliationDispositionOfBusiness),
                                    list(IncomeTaxReconciliationDispositionOfAssets, EffectiveIncomeTaxRateReconciliationDispositionOfAssets),
                                    list(IncomeTaxReconciliationRepatriationOfForeignEarnings, EffectiveIncomeTaxRateReconciliationRepatriationOfForeignEarnings),
                                    list(IncomeTaxReconciliationChangeInEnactedTaxRate, EffectiveIncomeTaxRateReconciliationChangeInEnactedTaxRate),
                                    list(IncomeTaxReconciliationPriorYearIncomeTaxes, EffectiveIncomeTaxRateReconciliationPriorYearIncomeTaxes),
                                    list(IncomeTaxReconciliationChangeInDeferredTaxAssetsValuationAllowance, EffectiveIncomeTaxRateReconciliationChangeInDeferredTaxAssetsValuationAllowance),
                                    list(EffectiveIncomeTaxRateReconciliationShareBasedCompensationExcessTaxBenefitAmount, EffectiveIncomeTaxRateReconciliationShareBasedCompensationExcessTaxBenefitPercent),
                                    list(IncomeTaxReconciliationOtherAdjustments, EffectiveIncomeTaxRateReconciliationOtherAdjustments),
                                    list(IncomeTaxReconciliationOtherReconcilingItems, EffectiveIncomeTaxRateReconciliationOtherReconcilingItemsPercent),
                                    list(IncomeTaxExpenseBenefit, EffectiveIncomeTaxRateContinuingOperations))

ASSERT US.0195.10630 satisfied

$rule_id = (rule-name().split('.'))[rule-name().split('.').length];

/**If provide a value for tax in a 10-K then should have an equivent percentage amount **/
if set('10-K','10-KT').contains([covered @concept.local-name ='DocumentType']) and ([covered @concept.local-name ='DocumentPeriodEndDate'] >= date('2025-12-15')) 
    for $concept in $EQUIVALENT_TAX_RATES
        exists({@concept =  $concept[1]}#concept-value) and missing({@concept =  $concept[2]})
else
    skip

message
"The filer has reported a value for the concept {$concept[1]} with a value of {$concept-value}. This concept should have an equivalent percentage amount. Please provide the equivalent percentage amount for this concept of {$concept[2]}.  See the FASB implementation guide at https://xbrl.fasb.org/impguidance/IT_TIG/incometaxes.pdf for more information.

The properties of this {$concept-value.concept} fact are:
Period :{$concept-value.period}
Dimensions : {$concept-value.dimensions.join(', ','=')}
Unit : {$concept-value.unit}

Rule Element Id:{$rule_id}
Rule version: {$ruleVersion}"


severity error

effectiveDate $effective_dates[$rule_id]


ASSERT US.0195.10631 satisfied

$rule_id = (rule-name().split('.'))[rule-name().split('.').length];

/**If provide a value for tax in a 10-K then should have an equivent percentage amount **/
if set('10-K','10-KT').contains([covered @concept.local-name ='DocumentType']) and ([covered @concept.local-name ='DocumentPeriodEndDate'] >= date('2024-12-15')) 
    for $concept in $EQUIVALENT_TAX_RATES
        exists({@concept =  $concept[2]}#concept-value) and exists({@concept =  $concept[1]})
else
    skip

message
"The filer has reported a value for the concept {$concept[2]} with a value of {$concept-value}. This concept should have an equivalent monetary amount. Please provide the equivalent monetary amount for this concept of {$concept[2]}.  See the FASB implementation guide at https://xbrl.fasb.org/impguidance/IT_TIG/incometaxes.pdf for more information.

The properties of this {$concept-value.concept} fact are:
Period :{$concept-value.period}
Dimensions : {$concept-value.dimensions.join(', ','=')}
Unit : {$concept-value.unit}

Rule Element Id:{$rule_id}
Rule version: {$ruleVersion}"


severity error

effectiveDate $effective_dates[$rule_id]


/** Check if the domestic and foreign member are used.**/