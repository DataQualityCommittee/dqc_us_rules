language: python
python:
  - "3.4"
env:
  - TESTCASE=DQC_0004
  - TESTCASE=DQC_0005
install: 
  - pip install -r requirements.txt
script: 
  - TESTCASESROOT=./DQC_Testcases
  - OUTPUTLOGFILE=./DQC-log.xml
  - OUTPUTERRFILE=./DQC-err.txt
  - OUTPUTCSVFILE=./DQC-report.csv
  - CURRDIR=$(pwd) 
  - travis_wait 50 python3.4 -m arelle.CntlrCmdLine --file "$TESTCASESROOT/$TESTCASE/variation.xml" --validate --plugins "$CURRDIR/xule|logging/dqcParameters.py" --csvTestReport "$OUTPUTCSVFILE" --logFile "$OUTPUTLOGFILE" --xule-test-debug
  - python3.4 ./scan_results.py $OUTPUTCSVFILE