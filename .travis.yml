language: python
python:
  - "3.5"
branches:
  only:
  - master
  - /next.*/
  - /.*v5/
  - /v.*/
env:
  global:
    - INPUT=./tests/input
    - EXPECTED=./test/output
    - CURDIR=$(pwd)
  matrix:
    - INFILES='[{"file":"./test/input/Testco-2018-NonNeg.xbrl","xule_run_only":"DQC.US.0015"}]' EXFILES=$EXPECTED/DQC.US.0015_testco-2018.xml
install:
  - pip install -r requirements.txt
script:
  - cp -r $CURDIR/plugin/xule /home/travis/virtualenv/python3.5.5/src/arelle/arelle/plugin/
  - cp $CURDIR/plugin/validate/DQC.py /home/travis/virtualenv/python3.5.5/src/arelle/arelle/plugin/validate/
  - bash ./travis-run.sh > out.log
  - cat out.log
