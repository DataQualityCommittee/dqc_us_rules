language: python
python:
  - "3.5"
branches:
  only:
  - master
  - /next.*/
  - /.*v5/
  - /v.*/
env:
  global:
    - INPUT=./tests/input
    - EXPECTED=./test/output
    - CURRDIR=$(pwd)
  matrix:
    - INFILES='[{"file":"$INPUT/Testco-2018-NonNeg.xbrl", "xule_run_only":"DQC.US.0015"}]' EXFILES=$EXPECTED/DQC.US.0015_testco-2018.xml
install:
  - pip install -r requirements.txt
script:
  - python3.5 -m arelle.CntlrCmdLine --plugins "$CURRDIR/plugin/xule|$CURRDIR/plugin/validate/DQC.py" --help
